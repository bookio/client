(function(a){a.widget("mobile.jqmMobiscroll",a.mobile.widget,{options:{theme:"jqm",preset:"date",animate:"pop"},_create:function(){var l=this.element,r=a.extend(this.options,l.jqmData("options"));l.mobiscroll(r)}});a(document).bind("pagebeforecreate",function(l){a('input[type="date"]:jqmData(role="mobiscroll")',l.target).prop("type","text")});a(document).bind("pagecreate create",function(l){a(document).trigger("mobiscrollbeforecreate");a(':jqmData(role="mobiscroll")',l.target).each(function(){"undefined"===
typeof a(this).data("mobiscroll")&&a(this).jqmMobiscroll()})})})(jQuery);(function(a){function l(a){for(var e in a)if(void 0!==b[a[e]])return!0;return!1}function r(a,e){var b=a.originalEvent,m=a.changedTouches;return m||b&&b.changedTouches?b?b.changedTouches[0]["page"+e]:m[0]["page"+e]:a["page"+e]}function q(b,e,l){var m=b;if("object"===typeof e)return b.each(function(){this.id||(this.id="mobiscroll"+ ++I);u[this.id]&&u[this.id].destroy();new a.mobiscroll.classes[e.component||"Scroller"](this,e)});"string"===typeof e&&b.each(function(){var a;if((a=u[this.id])&&a[e])if(a=
a[e].apply(this,Array.prototype.slice.call(l,1)),void 0!==a)return m=a,!1});return m}var I=+new Date,u={},o=a.extend,b=document.createElement("modernizr").style,s=l(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),t=function(){var a=["Webkit","Moz","O","ms"],b;for(b in a)if(l([a[b]+"Transform"]))return"-"+a[b].toLowerCase()+"-";return""}(),C=t.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz");a.fn.mobiscroll=function(b){o(this,a.mobiscroll.components);
return q(this,b,arguments)};a.mobiscroll=a.mobiscroll||{util:{prefix:t,jsPrefix:C,has3d:s,getCoord:r},presets:{},themes:{},i18n:{},instances:u,classes:{},components:{},presetShort:function(a,b){this.components[a]=function(u){return q(this,o(u,{component:b,preset:a}),arguments)}}};a.scroller=a.scroller||a.mobiscroll;a.fn.scroller=a.fn.scroller||a.fn.mobiscroll})(jQuery);(function(a){function l(a){if("touchstart"===a.type)s=!0;else if(s)return s=!1;return!0}function r(){b=!0;setTimeout(function(){b=!1},300)}function q(a,b,d){return Math.max(b,Math.min(a,d))}function I(b){var e={values:[],keys:[]};a.each(b,function(a,b){e.keys.push(a);e.values.push(b)});return e}a.mobiscroll.classes.Scroller=function(f,e){function d(a,g,n){a.stopPropagation();a.preventDefault();if(!K&&!s(g)&&!g.hasClass("dwa")){K=!0;var b=g.find(".dw-ul");y(b);clearInterval(da);da=setInterval(function(){n(b)},
c.delay);n(b)}}function s(U){return a.isArray(c.readonly)?(U=a(".dwwl",z).index(U),c.readonly[U]):c.readonly}function P(U){var c='<div class="dw-bf">',U=La[U],U=U.values?U:I(U),g=1,n=U.labels||[],b=U.values,f=U.keys||b;a.each(b,function(a,U){0==g%20&&(c+='</div><div class="dw-bf">');c+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+f[a]+'"'+(n[a]?' aria-label="'+n[a]+'"':"")+' style="height:'+w+"px;line-height:"+w+'px;"><div class="dw-i">'+U+"</div></div>";g++});return c+=
"</div>"}function y(U){ra=a(".dw-li",U).index(a(".dw-v",U).eq(0));V=a(".dw-li",U).index(a(".dw-v",U).eq(-1));aa=a(".dw-ul",z).index(U)}function J(a){var g=c.headerText;return g?"function"===typeof g?g.call(ea,a):g.replace(/\{value\}/i,a):""}function ba(){g.temp=g.values?g.values.slice(0):c.parseValue(ia.val()||"",g);E()}function Q(c){var g=window.getComputedStyle?getComputedStyle(c[0]):c[0].style,n;h?(a.each(["t","webkitT","MozT","OT","msT"],function(a,c){if(void 0!==g[c+"ransform"])return n=g[c+
"ransform"],!1}),n=n.split(")")[0].split(", "),c=n[13]||n[5]):c=g.top.replace("px","");return Math.round(ja-c/w)}function W(a,c){clearTimeout(Ea[c]);delete Ea[c];a.closest(".dwwl").removeClass("dwa")}function za(a,c,g,n,b){var f=(ja-g)*w,e=a[0].style;f==Ja[c]&&Ea[c]||(n&&f!=Ja[c]&&T("onAnimStart",[z,c,n]),Ja[c]=f,e[m+"Transition"]="all "+(n?n.toFixed(3):0)+"s ease-out",h?e[m+"Transform"]="translate3d(0,"+f+"px,0)":e.top=f+"px",Ea[c]&&W(a,c),n&&b&&(a.closest(".dwwl").addClass("dwa"),Ea[c]=setTimeout(function(){W(a,
c)},1E3*n)),ya[c]=g)}function fa(c,g,n){var c=a('.dw-li[data-val="'+c+'"]',g),g=a(".dw-li",g),b=g.index(c),f=g.length;if(!c.hasClass("dw-v")){for(var e=c,Y=0,d=0;0<=b-Y&&!e.hasClass("dw-v");)Y++,e=g.eq(b-Y);for(;b+d<f&&!c.hasClass("dw-v");)d++,c=g.eq(b+d);(d<Y&&d&&2!==n||!Y||0>b-Y||1==n)&&c.hasClass("dw-v")?b+=d:(c=e,b-=Y)}return{cell:c,v:b,val:c.attr("data-val")}}function na(n,b,f,e,Y){!1!==T("validate",[z,b,n,e])&&(a(".dw-ul",z).each(function(f){var d=a(this),i=f==b||void 0===b,h=fa(g.temp[f],d,
e),L=h.cell;if(!L.hasClass("dw-sel")||i)g.temp[f]=h.val,c.multiple||(a(".dw-sel",d).removeAttr("aria-selected"),L.attr("aria-selected","true")),a(".dw-sel",d).removeClass("dw-sel"),L.addClass("dw-sel"),za(d,f,h.v,i?n:0.1,i?Y:!1)}),B=c.formatResult(g.temp),g.live&&E(f,0,!0),a(".dwv",z).html(J(B)),f&&T("onChange",[B]))}function T(c,n){var b;n.push(g);a.each([Fa,Ma,e],function(a,g){g&&g[c]&&(b=g[c].apply(ea,n))});return b}function Z(n,b,f,e,d){var b=q(b,ra,V),Y=a(".dw-li",n).eq(b),i=void 0===d?b:d,h=
void 0!==d,L=aa,E=e?b==i?0.1:Math.abs((b-i)*c.timeUnit):0;g.temp[L]=Y.attr("data-val");za(n,L,b,E,h);setTimeout(function(){na(E,L,!0,f,h)},10)}function $(a){var c=ya[aa]+1;Z(a,c>V?ra:c,1,!0)}function ga(a){var c=ya[aa]-1;Z(a,c<ra?V:c,2,!0)}function E(a,n,b,f,e){Ca&&!b&&na(n,void 0,e);B=c.formatResult(g.temp);f||(g.values=g.temp.slice(0),g.val=B);a&&Ga&&(va=!0,ia.val(B).change())}function sa(a,c){var b;n.on(a,function(){clearTimeout(b);b=setTimeout(function(){(ta&&c||!c)&&g.position(!c)},200)})}var ja,
w,B,z,wa,Aa,xa,oa,ua,ka,ta,ca,Fa,pa,K,S,H,G,la,Ha,i,Ba,ra,V,X,R,aa,da,Da,va,ma,n,Y,L,qa,g=this,ea=f,ia=a(ea),c=A({},k),Ma={},Ea={},ya={},Ja={},La=[],Oa=[],Ga=ia.is("input"),Ca=!1,Ra=function(g){l(g)&&!o&&!K&&!qa&&!s(this)&&(g.preventDefault(),o=!0,H="clickpick"!=c.mode,R=a(".dw-ul",this),y(R),Ba=(G=void 0!==Ea[aa])?Q(R):ya[aa],la=p(g,"Y"),Ha=new Date,i=la,za(R,aa,Ba,0.001),H&&R.closest(".dwwl").addClass("dwa"),a(document).on(M,Pa).on(ha,Qa))},Pa=function(a){H&&(a.preventDefault(),a.stopPropagation(),
i=p(a,"Y"),za(R,aa,q(Ba+(la-i)/w,ra-1,V+1)));la!==i&&(G=!0)},Qa=function(){var g=new Date-Ha,n=q(Ba+(la-i)/w,ra-1,V+1),b,f=R.offset().top;300>g?(g=(i-la)/g,b=g*g/c.speedUnit,0>i-la&&(b=-b)):b=i-la;g=Math.round(Ba-b/w);if(!b&&!G){var f=Math.floor((i-f)/w),e=a(a(".dw-li",R)[f]);b=H;!1!==T("onValueTap",[e])?g=f:b=!0;b&&(e.addClass("dw-hl"),setTimeout(function(){e.removeClass("dw-hl")},200))}H&&Z(R,g,0,!0,Math.round(n));o=!1;R=null;a(document).off(M,Pa).off(ha,Qa)},Ka=function(c){qa&&qa.removeClass("dwb-a");
qa=a(this);a(document).on(ha,Ia);!qa.hasClass("dwb-d")&&!qa.hasClass("dwb-nhl")&&qa.addClass("dwb-a");qa.hasClass("dwwb")&&l(c)&&d(c,qa.closest(".dwwl"),qa.hasClass("dwwbp")?$:ga)},Ia=function(){K&&(clearInterval(da),K=!1);qa&&(qa.removeClass("dwb-a"),qa=null);a(document).off(ha,Ia)},Na=function(c){38==c.keyCode?d(c,a(this),ga):40==c.keyCode&&d(c,a(this),$)},Sa=function(){K&&(clearInterval(da),K=!1)},Ta=function(c){if(!s(this)){c.preventDefault();var c=c.originalEvent||c,c=c.wheelDelta?c.wheelDelta/
120:c.detail?-c.detail/3:0,g=a(".dw-ul",this);y(g);Z(g,Math.round(ya[aa]-c),0>c?1:2)}};g.position=function(b){if(X&&!ma&&!(xa===wa.width()&&oa===(n[0].innerHeight||n.innerHeight())&&b||!1===T("onPosition",[z]))){var f,e,d,i,L,h,E,y,p,k=0,ea=0,b=n.scrollLeft(),m=n.scrollTop();i=a(".dwwr",z);var u=a(".dw",z),l={};L=void 0===c.anchor?ia:c.anchor;xa=wa.width();oa=n[0].innerHeight||n.innerHeight();/modal|bubble/.test(c.display)&&(a(".dwc",z).each(function(){f=a(this).outerWidth(!0);k+=f;ea=f>ea?f:ea}),
f=k>xa?ea:k,i.width(f).css("white-space",k>xa?"":"nowrap"));ua=u.outerWidth();ka=u.outerHeight(!0);ta=ka<=oa&&ua<=xa;g.scrollLock=ta;"modal"==c.display?(e=(xa-ua)/2,d=m+(oa-ka)/2):"bubble"==c.display?(p=!0,y=a(".dw-arrw-i",z),d=L.offset(),h=Math.abs(a(c.context).offset().top-d.top),E=Math.abs(a(c.context).offset().left-d.left),i=L.outerWidth(),L=L.outerHeight(),e=q(E-(u.outerWidth(!0)-i)/2-b,3,xa-ua-3),d=h-ka,d<m||h>m+oa?(u.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),d=h+L):u.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),
y=y.outerWidth(),i=q(E+i/2-(e+(ua-y)/2)-b,0,y),a(".dw-arr",z).css({left:i})):(l.width="100%","top"==c.display?d=m:"bottom"==c.display&&(d=m+oa-ka));l.top=0>d?0:d;l.left=e;u.css(l);wa.height(0);e=Math.max(d+ka,"body"==c.context?a(document).height():Y.scrollHeight);wa.css({height:e,left:b});if(p&&(d+ka>m+oa||h>m+oa))ma=!0,setTimeout(function(){ma=false},300),n.scrollTop(Math.min(d+ka-oa,e-oa))}};g.enable=function(){c.disabled=!1;Ga&&ia.prop("disabled",!1)};g.disable=function(){c.disabled=!0;Ga&&ia.prop("disabled",
!0)};g.setValue=function(b,n,f,e){g.temp=a.isArray(b)?b.slice(0):c.parseValue.call(ea,b+"",g);E(n,f,!1,e,n)};g.getValue=function(){return g.values};g.getValues=function(){var a=[],c;for(c in g._selectedValues)a.push(g._selectedValues[c]);return a};g.changeWheel=function(b,n,f){if(z){var e=0,d=b.length;a.each(c.wheels,function(c,Y){a.each(Y,function(c,Y){if(-1<a.inArray(e,b)&&(La[e]=Y,a(".dw-ul",z).eq(e).html(P(e)),d--,!d))return g.position(),na(n,void 0,f),!1;e++});if(!d)return!1})}};g.isVisible=
function(){return Ca};g.tap=function(a,g){var n,f;if(c.tap)a.on("touchstart.dw mousedown.dw",function(a){a.preventDefault();n=p(a,"X");f=p(a,"Y")}).on("touchend.dw",function(a){20>Math.abs(p(a,"X")-n)&&20>Math.abs(p(a,"Y")-f)&&g.call(this,a);r()});a.on("click.dw",function(a){b||g.call(this,a);a.preventDefault()})};g.show=function(b){if(!c.disabled&&!Ca){"top"==c.display&&(ca="slidedown");"bottom"==c.display&&(ca="slideup");ba();T("onBeforeShow",[]);var n,f=0,e="";ca&&!b&&(e="dw-"+ca+" dw-in");var d=
'<div role="dialog" class="'+c.theme+" dw-"+c.display+(O?" dw"+O.replace(/\-$/,""):"")+(S?"":" dw-nobtn")+'">'+(!X?'<div class="dw dwbg dwi">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+e+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>')+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(c.headerText?"":" dw-hidden")+'"></div><div class="dwcc">',i=a.isArray(c.minWidth),h=a.isArray(c.maxWidth),E=a.isArray(c.fixedWidth);a.each(c.wheels,
function(g,b){d+='<div class="dwc'+("scroller"!=c.mode?" dwpm":" dwsc")+(c.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';a.each(b,function(a,g){La[f]=g;n=void 0!==g.label?g.label:a;d+='<td><div class="dwwl dwrc dwwl'+f+'">'+("scroller"!=c.mode?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp" style="height:'+w+"px;line-height:"+w+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm" style="height:'+w+"px;line-height:"+w+'px;"><span>&ndash;</span></a>':
"")+'<div class="dwl">'+n+'</div><div tabindex="0" aria-live="off" aria-label="'+n+'" role="listbox" class="dwww"><div class="dww" style="height:'+c.rows*w+"px;"+(c.fixedWidth?"width:"+(E?c.fixedWidth[f]:c.fixedWidth)+"px;":(c.minWidth?"min-width:"+(i?c.minWidth[f]:c.minWidth)+"px;":"min-width:"+c.width+"px;")+(c.maxWidth?"max-width:"+(h?c.maxWidth[f]:c.maxWidth)+"px;":""))+'"><div class="dw-ul">';d+=P(f);d+='</div><div class="dwwol"></div></div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>';
f++});d+="</tr></table></div></div>"});d+="</div>";X&&S&&(d+='<div class="dwbc">',a.each(L,function(a,b){b="string"===typeof b?g.buttons[b]:b;d+="<span"+(c.btnWidth?' style="width:'+100/L.length+'%"':"")+' class="dwbw '+b.css+'"><a href="#" class="dwb dwb'+a+' dwb-e" role="button">'+b.text+"</a></span>"}),d+="</div>");d+=(X?"</div>":"")+"</div></div></div>";z=a(d);wa=a(".dw-persp",z);Aa=a(".dwo",z);na();T("onMarkupReady",[z]);X?(z.appendTo(c.context),ca&&!b&&(z.addClass("dw-trans"),setTimeout(function(){z.removeClass("dw-trans").find(".dw").removeClass(e)},
350))):ia.is("div")?ia.html(z):z.insertAfter(ia);T("onMarkupInserted",[z]);Ca=!0;if(X){a(window).on("keydown.dw",function(a){a.keyCode==13?g.select():a.keyCode==27&&g.cancel()});if(c.scrollLock)z.on("touchmove",function(a){ta&&a.preventDefault()});a("input,select,button",Y).each(function(){if(!this.disabled){a(this).attr("autocomplete")&&a(this).data("autocomplete",a(this).attr("autocomplete"));a(this).addClass("dwtd").prop("disabled",true).attr("autocomplete","off")}});g.position();sa("orientationchange.dw resize.dw",
!1);sa("scroll.dw",!0)}z.on("DOMMouseScroll mousewheel",".dwwl",Ta).on("keydown",".dwwl",Na).on("keyup",".dwwl",Sa).on("selectstart mousedown",v).on("click",".dwb-e",v).on("touchend",function(){c.tap&&r()}).on("keydown",".dwb-e",function(c){if(c.keyCode==32){c.preventDefault();c.stopPropagation();a(this).click()}});setTimeout(function(){a.each(L,function(c,b){g.tap(a(".dwb"+c,z),function(a){b=typeof b==="string"?g.buttons[b]:b;b.handler.call(this,a,g)})});c.closeOnOverlay&&g.tap(Aa,function(){g.cancel()});
z.on(N,".dwwl",Ra).on(N,".dwb-e",Ka)},300);T("onShow",[z,B])}};g.hide=function(c,b,g){if(Ca&&(g||!1!==T("onClose",[B,b])))a(".dwtd",Y).each(function(){a(this).prop("disabled",!1).removeClass("dwtd");a(this).data("autocomplete")?a(this).attr("autocomplete",a(this).data("autocomplete")):a(this).removeAttr("autocomplete")}),z&&((b=X&&ca&&!c)&&z.addClass("dw-trans").find(".dw").addClass("dw-"+ca+" dw-out"),c?z.remove():setTimeout(function(){z.remove();u&&(t=!0,u.focus())},b?350:1),n.off(".dw")),Ja={},
Ca=!1};g.select=function(){!1!==g.hide(!1,"set")&&(E(!0,0,!0),T("onSelect",[g.val]))};g.attachShow=function(a,n){Oa.push(a);if("inline"!==c.display)a.on((c.showOnFocus?"focus.dw":"")+(c.showOnTap?" click.dw":""),function(c){if(("focus"!==c.type||"focus"===c.type&&!t)&&!b)n&&n(),u=a,g.show();setTimeout(function(){t=!1},300)})};g.cancel=function(){!1!==g.hide(!1,"cancel")&&T("onCancel",[g.val])};g.init=function(b){Fa=C.themes[b.theme||c.theme];pa=C.i18n[b.lang||c.lang];A(e,b);T("onThemeLoad",[pa,e]);
A(c,Fa,pa,e);c.buttons=c.buttons||["set","cancel"];c.headerText=void 0===c.headerText?"inline"!==c.display?"{value}":!1:c.headerText;g.settings=c;ia.off(".dw");if(b=C.presets[c.preset])Ma=b.call(ea,g),A(c,Ma,e);ja=Math.floor(c.rows/2);w=c.height;ca=c.animate;X="inline"!==c.display;L=c.buttons;n=a("body"==c.context?window:c.context);Y=a(c.context)[0];c.setText||L.splice(a.inArray("set",L),1);c.cancelText||L.splice(a.inArray("cancel",L),1);c.button3&&L.splice(a.inArray("set",L)+1,0,{text:c.button3Text,
handler:c.button3});g.context=n;g.live=!X||-1==a.inArray("set",L);g.buttons.set={text:c.setText,css:"dwb-s",handler:g.select};g.buttons.cancel={text:g.live?c.closeText:c.cancelText,css:"dwb-c",handler:g.cancel};g.buttons.clear={text:c.clearText,css:"dwb-cl",handler:function(){g.trigger("onClear",[z]);ia.val("");g.live||g.hide()}};S=0<L.length;Ca&&g.hide(!0,!1,!0);X?(ba(),Ga&&(void 0===Da&&(Da=ea.readOnly),ea.readOnly=!0),g.attachShow(ia)):g.show();if(Ga)ia.on("change.dw",function(){va||g.setValue(ia.val(),
false,0.2);va=false})};g.option=function(a,c){var b={};"object"===typeof  a?b=a:b[a]=c;g.init(b)};g.destroy=function(){g.hide(!0,!1,!0);a.each(Oa,function(a,c){c.off(".dw")});a(window).off(".dwa");Ga&&(ea.readOnly=Da);delete x[ea.id];T("onDestroy",[])};g.getInst=function(){return g};g.getValidCell=fa;g.trigger=T;x[ea.id]=g;g.values=null;g.val=null;g.temp=null;g.buttons={};g._selectedValues={};g.init(e)};var u,o,b,s,t,C=a.mobiscroll,x=C.instances,e=C.util,O=e.prefix,m=e.jsPrefix,h=e.has3d,p=e.getCoord,
v=function(a){a.preventDefault()},A=a.extend,N="touchstart mousedown",M="touchmove mousemove",ha="touchend mouseup",k={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,closeOnOverlay:!0,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",selectedText:" Selected",closeText:"Close",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",clearText:"Clear",context:"body",scrollLock:!0,tap:!0,btnWidth:!0,speedUnit:0.0012,timeUnit:0.1,formatResult:function(a){return a.join(" ")},
parseValue:function(b,e){var d=b.split(" "),h=[],k=0,y;a.each(e.settings.wheels,function(b,f){a.each(f,function(b,f){f=f.values?f:I(f);y=f.keys||f.values;-1!==a.inArray(d[k],y)?h.push(d[k]):h.push(y[0]);k++})});return h}};a(window).on("focus",function(){u&&(t=!0)});a(document).on("mouseover mouseup mousedown click",function(a){if(b)return a.stopPropagation(),a.preventDefault(),!1});a.mobiscroll.setDefaults=function(a){A(k,a)}})(jQuery);(function(a){a.mobiscroll.themes.jqm={jqmBorder:"a",jqmBody:"c",jqmHeader:"b",jqmWheel:"d",jqmClickPick:"c",jqmSet:"b",jqmCancel:"c",disabledClass:"ui-disabled",activeClass:"ui-btn-active",activeTabInnerClass:"ui-btn-active",onThemeLoad:function(a,r){var q=r.jqmBody||"c",I=r.jqmEventText||"b",u=r.jqmEventBubble||"a";r.dayClass="ui-body-a ui-body-"+q;r.validDayClass="ui-state-default ui-btn ui-btn-up-"+q;r.calendarClass="ui-body-a ui-body-"+q;r.weekNrClass="ui-body-a ui-body-"+q;r.eventTextClass="ui-btn-up-"+
I;r.eventBubbleClass="ui-body-"+u},onEventBubbleShow:function(l,r){a(".dw-cal-event-list",r).attr("data-role","listview");r.page().trigger("create")},onMarkupInserted:function(l,r){var q=r.settings;a(".dw",l).removeClass("dwbg").addClass("ui-selectmenu ui-overlay-shadow ui-corner-all ui-body-"+q.jqmBorder);a(".dwbc .dwb",l).attr("data-role","button").attr("data-mini","true").attr("data-theme",q.jqmCancel);a(".dwb-s .dwb",l).attr("data-theme",q.jqmSet);a(".dwwb",l).attr("data-role","button").attr("data-theme",
q.jqmClickPick);a(".dwv",l).addClass("ui-header ui-bar-"+q.jqmHeader);a(".dwwr",l).addClass("ui-body-"+q.jqmBody);a(".dwpm .dwwl",l).addClass("ui-body-"+q.jqmWheel);a(".dwpm .dwl",l).addClass("ui-body-"+q.jqmBody);a(".dw-cal-tabs",l).attr("data-role","navbar");a(".dw-cal-prev .dw-cal-btn-txt",l).attr("data-role","button").attr("data-icon","arrow-l").attr("data-iconpos","notext");a(".dw-cal-next .dw-cal-btn-txt",l).attr("data-role","button").attr("data-icon","arrow-r").attr("data-iconpos","notext");
a(".dw-cal-events",l).attr("data-role","page");a(".dw-dr",l).attr("data-role","button").attr("data-mini","true");l.trigger("create")}}})(jQuery);(function(a){var l=a.mobiscroll,r=l.util,q=r.has3d,I=r.jsPrefix,u=r.getCoord,o={controls:["calendar"],firstDay:0,maxMonthWidth:170,highlight:!0,swipe:!0,liveSwipe:!0,showDivergentDays:!0,divergentDayChange:!0,navigation:"yearMonth",dateText:"Date",timeText:"Time",calendarText:"Calendar",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};l.presets.calbase=function(b){function l(n,d,f){var e,g,h,E,c={};n&&(n=b.convert(n),a.each(n,function(a,
b){e=b.d||b.start||b;g=e+"";if(b.start&&b.end)for(E=new Date(b.start);E<=b.end;)h=(new Date(E.getFullYear(),E.getMonth(),E.getDate())).getTime(),c[h]=c[h]||[],c[h].push(b),E.setDate(E.getDate()+1);else if(e.getTime)h=(new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime(),c[h]=c[h]||[],c[h].push(b);else if(g.match(/w/i)){var n=i.firstDay,y=+g.replace("w",""),k=0,m=(new Date(d,f-1,1)).getDay();1<n-m+1&&(k=7);for(j=0;18>j;j++)h=(new Date(d,f-1,7*j+n-k-m+1+y)).getTime(),c[h]=c[h]||[],c[h].push(b)}else g=
g.split("/"),g[1]?h=(new Date(d,g[0]-1,g[1])).getTime():(h=(new Date(d,f-1,g[0])).getTime(),c[h]=c[h]||[],c[h].push(b),h=(new Date(d,f,g[0])).getTime(),c[h]=c[h]||[],c[h].push(b),h=(new Date(d,f+1,g[0])).getTime()),c[h]=c[h]||[],c[h].push(b)}));return c}function t(a,d){ta=l(i.invalid,a,d);b.onGenMonth(a,d)}function C(n,d){var f,e,g,h,y,c,k,m,u,p,l,o=1,sa=0;y=new Date(n,d,1);var q=y.getFullYear(),z=y.getMonth(),w=b.getDate(!0),B=(new Date(q,z+1,0)).getDate(),s=(new Date(q,z,1)).getDay(),v=(new Date(q,
z,0)).getDate()-s+1,C='<div class="dw-cal-table">',A='<div class="dw-week-nr-c">';1<i.firstDay-s+1&&(sa=7);for(l=0;42>l;l++)p=l+i.firstDay-sa,f=new Date(q,z,p-s+1),e=f.getFullYear(),g=f.getMonth(),h=f.getDate(),y=e+"-"+g+"-"+h,c=a.extend({valid:f<new Date(ga.getFullYear(),ga.getMonth(),ga.getDate())||f>E?!1:void 0===ta[f.getTime()],selected:w.getFullYear()===e&&w.getMonth()===g&&w.getDate()===h},b.getDayProps(f,w)),k=c.valid,m=c.selected,e=c.cssClass,u=p<s||p>=B+s,la[y]=c,0==l%7&&(C+=(l?"</div>":
"")+'<div class="dw-cal-row'+(i.highlight&&0<=w-f&&6048E5>w-f?" dw-cal-week-hl":"")+'">',ra&&("month"==ra&&g!==z&&l?o=1==h?1:2:"year"==ra&&(o=f,o=new Date(o),o.setHours(0,0,0),o.setDate(o.getDate()+4-(o.getDay()||7)),f=new Date(o.getFullYear(),0,1),o=Math.ceil(((o-f)/864E5+1)/7)),A+='<div class="dw-week-nr"><div class="dw-week-nr-i">'+o+"</div></div>",o++)),C+='<div role="button" tabindex="-1" class="dw-cal-day '+(i.dayClass||"")+(m?" dw-sel":"")+(e?" "+e:"")+(u?" dw-cal-day-diff":"")+(k?" dw-cal-day-v dwb-e dwb-nhl":
" dw-cal-day-inv")+'" data-day="'+p%7+'" data-date="'+(p-s+1)+'" data-full="'+y+'"'+(m?' aria-selected="true"':"")+(k?"":' aria-disabled="true"')+'><div class="dw-i '+(m?da:"")+" "+(k?i.validDayClass||"":"")+'"><div class="dw-cal-day-fg">'+(p<s?v+p:p>=B+s?p-B-s+1:p-s+1)+"</div>"+(c.markup||"")+'<div class="dw-cal-day-frame"></div></div></div>';return C+("</div>"+A+"</div></div>")}function x(b,d){na.text(fa[d]);T.text(b);new Date(b,d-1,1)<Z?a(".dw-cal-prev-m",f).addClass(ma).attr("aria-disabled","true"):
a(".dw-cal-prev-m",f).removeClass(ma).removeAttr("aria-disabled");new Date(b,d+1,1)>$?a(".dw-cal-next-m",f).addClass(ma).attr("aria-disabled","true"):a(".dw-cal-next-m",f).removeClass(ma).removeAttr("aria-disabled");new Date(b-1,d,1)<Z?a(".dw-cal-prev-y",f).addClass(ma).attr("aria-disabled","true"):a(".dw-cal-prev-y",f).removeClass(ma).removeAttr("aria-disabled");new Date(b+1,d,1)>$?a(".dw-cal-next-y",f).addClass(ma).attr("aria-disabled","true"):a(".dw-cal-next-y",f).removeClass(ma).removeAttr("aria-disabled")}
function e(){if(G.calendar&&ja&&"calendar"===ca){var d=b.getDate(!0),e;d.getFullYear()===w&&d.getMonth()===B?ja=d:d>ja&&pa?(e=1!==d.getMonth()-B,w=d.getFullYear(),B=d.getMonth(),m.call(this,w,B,"next",e)):d<ja&&pa&&(e=-1!==d.getMonth()-B,w=d.getFullYear(),B=d.getMonth(),m.call(this,w,B,"prev",e));b.trigger("onDayHighlight",[d]);i.highlight&&(a(".dw-cal .dw-sel .dw-i",f).removeClass(da),a(".dw-cal .dw-sel",f).removeClass("dw-sel").removeAttr("aria-selected"),a(".dw-cal-week-hl",f).removeClass("dw-cal-week-hl"),
a('.dw-cal .dw-cal-day[data-full="'+w+"-"+B+"-"+d.getDate()+'"]',f).addClass("dw-sel").attr("aria-selected","true").parent().addClass("dw-cal-week-hl"),a(".dw-cal .dw-sel .dw-i",f).addClass(da));pa=!0}}function O(a,d,f,e){e||t(a,d);ba.html(C(a,d-1));Q.html(f||C(a,d)).find(".dw-cal-day").attr("tabindex",0);W.html(C(a,d+1));b.needRefresh=!1}function m(d,e,h,i){d&&H.push({y:d,m:e,dir:h,load:i});if(!S){var g=H.shift(),E,d=g.y,e=g.m,h=g.dir,i=g.load,g=new Date(d,e,1),d=g.getFullYear(),e=g.getMonth();S=
!0;b.changing=!0;b.trigger("onMonthChange",[d,e]);t(d,e);i&&("next"==h?W.html(C(d,e)):ba.html(C(d,e)));x(d,e);setTimeout(function(){A("next"==h?y-F:y+F,200);setTimeout(function(){Q.removeClass("dw-cal-slide-a");"next"==h?(r(ba,+ba.data("curr")+300),ba.html(C(d,e+1)),i&&Q.html(C(d,e-1)),E=ba,ba=Q,Q=W,W=E):(r(W,+W.data("curr")-300),W.html(C(d,e-1)),i&&Q.html(C(d,e+1)),E=ba,ba=W,W=Q,Q=E);Q.addClass("dw-cal-slide-a");S=!1;H.length?setTimeout(function(){m()},10):(w=d,B=e,ja=new Date(d,e,1),b.changing=
!1,b.month=Q,ra&&za.html(a(".dw-week-nr-c",Q).html()),a(".dw-cal-day",f).attr("tabindex",-1),a(".dw-cal-day",Q).attr("tabindex",0),b.needRefresh&&b.refresh(),b.trigger("onMonthLoaded",[d,e]))},q?200:0)},10)}}function h(){var d=a(this),e=d.attr("data-date"),f=d.attr("data-full"),h=new Date(w,B,e),g=d.hasClass("dw-sel"),E=b.live,y=b.getDate(!0);if((Ba||!d.hasClass("dw-cal-day-diff"))&&!1!==b.trigger("onDayChange",[a.extend(la[f],{date:h,cell:this,selected:g})]))i.divergentDayChange||(pa=!1),b.setDate(new Date(w,
B,e,y.getHours(),y.getMinutes(),y.getSeconds()),E,0.2,!E,!0)}function p(){var b,d=0,e=0;if(R||aa)a(".dwc",f).removeClass("dwc-h"),a.each(G,function(a,g){b=g.outerWidth(!0);d=Math.max(d,b);e+=b}),R||e>f.parent().width()?(ca=a(".dw-cal-tabs .dw-sel",f).attr("data-control"),a(".dw",f).addClass("dw-cal-tabbed"),a(".dwc",f).addClass("dwc-h"),G[ca].removeClass("dwc-h"),V||a(".dwcc",f).width(d)):(ca="calendar",a(".dwcc",f).width("auto"),a(".dw",f).removeClass("dw-cal-tabbed"))}function v(){X&&(fa=i.maxMonthWidth>
a(".dw-cal-btnw",f).width()?i.monthNamesShort:i.monthNames,na.text(fa[B]))}function A(a,b){P=Math.max(y-F,Math.min(a,y+F));d[0].style[I+"Transition"]="all "+(b||0)+"ms";q?d[0].style[I+"Transform"]="translate3d("+P+"px,0,0)":d[0].style.left=P+"px";b&&(y=P)}function r(a,b){a.data("curr",b);q?a[0].style[I+"Transform"]="translate3d("+b+"%,0,0)":a[0].style.left=b+"%"}var M,ha,k,f,D,d,F,P,y,J,ba,Q,W,za,fa,na,T,Z,$,ga,E,sa,ja,w,B,z,wa,Aa,xa,oa,ua,ka,ta,ca="calendar",Fa=this,pa=!0,K=!1,S=!1,H=[],G={},la=
{},Ha=function(){};k=a.extend({},b.settings);var i=a.extend(b.settings,o,k),Ba=i.showDivergentDays,ra=i.weekCounter,V="liquid"==(i.layout||(/top|bottom/.test(i.display)?"liquid":"")),X="yearMonth"==i.navigation;k=i.controls.join(",");var R=(!0===i.tabs||!1!==i.tabs&&V)&&1<i.controls.length,aa=!R&&void 0===i.tabs&&!V&&1<i.controls.length,da=i.activeClass||"",Da="dw-sel "+(i.activeTabClass||""),va=i.activeTabInnerClass||"",ma="dwb-d "+(i.disabledClass||"");k.match(/calendar/)&&(G.calendar=1);k.match(/date/)&&
(G.date=1);k.match(/time/)&&(G.time=1);G.calendar&&G.date&&(R=!0,aa=!1);i.preset=(G.date||G.calendar?"date":"")+(G.time?"time":"");b.changing=!1;b.needRefresh=!1;b.getDayProps=Ha;b.onGenMonth=Ha;b.prepareObj=l;b.refresh=function(){b.isVisible()&&G.calendar&&O(w,B)};k=a.mobiscroll.presets.datetime.call(this,b);ua=k.validate;a.extend(k,{onMarkupReady:function(n){f=n;var k,l,o="",g=i.dateOrder.search(/m/i),s=i.dateOrder.search(/y/i);ja=b.getDate(true);w=ja.getFullYear();B=ja.getMonth();sa=ja;fa=i.monthNames;
if(i.minDate){Z=new Date(i.minDate.getFullYear(),i.minDate.getMonth(),1);ga=i.minDate}else ga=Z=new Date(i.startYear,0,1);if(i.maxDate){$=new Date(i.maxDate.getFullYear(),i.maxDate.getMonth(),1);E=i.maxDate}else E=$=new Date(i.endYear,11,31,23,59,59);n.addClass("dw-calendar");q||n.addClass("dw-cal-no3d");G.date?G.date=a(".dwc",f).eq(0):G.calendar&&a(".dwc",f).eq(0).addClass("dwc-hh").hide();if(G.time)G.time=a(".dwc",f).eq(1);if(G.calendar){l='<div class="dw-cal-btnw"><div class="dw-cal-prev dw-cal-prev-m dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+
i.prevMonthText+"</a></div>"+(!X&&s<g?'<span aria-live="assertive" class="dw-cal-year"></span>&nbsp;':"")+'<span aria-live="assertive" class="dw-cal-month"></span>'+(!X&&s>g?'&nbsp;<span aria-live="assertive" class="dw-cal-year"></span>':"")+'<div class="dw-cal-next dw-cal-next-m dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+i.nextMonthText+"</a></div></div>";X&&(o='<div class="dw-cal-btnw"><div class="dw-cal-prev dw-cal-prev-y dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+
i.prevYearText+'</a></div><span aria-live="assertive" class="dw-cal-year"></span><div class="dw-cal-next dw-cal-next-y dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+i.nextYearText+"</a></div></div>");J='<div class="dwc dw-cal-c"><div class="dw-cal '+(ra?" dw-weeks ":"")+(Ba?"":" dw-hide-diff ")+(i.calendarClass||"")+'"><div class="dw-cal-header"><div class="dw-cal-btnc '+(X?"dw-cal-btnc-ym":"dw-cal-btnc-m")+'">'+(s<g?o+l:l+o)+'</div><div class="dw-cal-days"><table cellpadding="0" cellspacing="0"><tr>';
for(ha=0;ha<7;ha++)J=J+("<th>"+i.dayNamesShort[(ha+i.firstDay)%7]+"</th>");J=J+('</tr></table></div></div><div class="dw-cal-anim-c '+(i.calendarClass||"")+'"><div class="dw-week-nrs-c '+(i.weekNrClass||"")+'"><div class="dw-week-nrs"></div></div><div class="dw-cal-anim"><div class="dw-cal-slide dw-cal-slide1"></div><div class="dw-cal-slide dw-cal-slide-a dw-cal-slide2"></div><div class="dw-cal-slide dw-cal-slide3"></div></div></div><div class="dw-cal-f"></div></div></div>');G.calendar=a(J)}a.each(i.controls,
function(b,c){a(".dwcc",f).append(G[c].attr("id",Fa.id+"_dw_pnl_"+b))});k='<div class="dw-cal-tabs"><ul role="tablist">';a.each(i.controls,function(a,b){G[b]&&(k=k+('<li role="tab" aria-controls="'+(Fa.id+"_dw_pnl_"+a)+'" class="dw-cal-tab '+(a?"":Da)+'" data-control="'+b+'"><a href="#" class="dwb-e dwb-nhl dw-i '+(!a?va:"")+'">'+i[b+"Text"]+"</a></li>"))});k=k+"</ul></div>";a(".dwcc",n).before(k);D=a(".dw-cal-anim-c",f);d=a(".dw-cal-anim",f);ba=a(".dw-cal-slide1",f);Q=a(".dw-cal-slide2",f).data("curr",
0);W=a(".dw-cal-slide3",f);za=a(".dw-week-nrs",f);b.month=Q;if(G.calendar){r(ba,-100);r(W,100)}na=a(".dw-cal-month",f);T=a(".dw-cal-year",f);O(w,B);za.html(a(".dw-week-nr-c",Q).html());setTimeout(function(){D.on("touchstart mousedown",".dw-cal-day-v",function(a){if(a.type==="touchstart")K=true;else if(K)return false;ka=false;z=u(a,"X");wa=u(a,"Y")}).on("touchend",".dw-cal-day-v",function(a){!S&&!ka&&Math.abs(u(a,"X")-z)<20&&Math.abs(u(a,"Y")-wa)<20&&h.call(this)}).on("click",".dw-cal-day-v",function(){!S&&
!ka&&!K&&h.call(this);K=false});b.tap(a(".dw-cal-prev-m",f),function(){new Date(w,B-1,1)>=Z&&H.length<5&&m(w,--B,"prev")});b.tap(a(".dw-cal-next-m",f),function(){new Date(w,B+1,1)<=$&&H.length<5&&m(w,++B,"next")});b.tap(a(".dw-cal-prev-y",f),function(){if(new Date(w-1,B,1)>=Z&&H.length<5){w--;m(w,B,"prev",true)}});b.tap(a(".dw-cal-next-y",f),function(){if(new Date(w+1,B,1)<=$&&H.length<5){w++;m(w,B,"next",true)}});a(".dw-cal-tab",f).on("touchstart click",function(c){var d=a(this);if(c.type=="touchstart")d.data("click",
true);else if(d.data("click")){d.data("click",null);return}if(!d.hasClass("dw-sel")){ca=d.attr("data-control");a(".dwc",f).addClass("dwc-h");a(".dw-cal-tab",f).removeClass(Da).removeAttr("aria-selected").find(".dw-i").removeClass(va);d.addClass(Da).attr("aria-selected","true").find(".dw-i").addClass(va);G[ca].removeClass("dwc-h");if(ca==="calendar"){M=b.getDate(true);(M.getFullYear()!==sa.getFullYear()||M.getMonth()!==sa.getMonth()||M.getDate()!==sa.getDate())&&e()}else{sa=b.getDate(true);b.setDate(sa,
false,0,true)}}})},300);V&&i.display!=="bubble"?n.addClass("dw-cal-liq"):i.calendarWidth&&a(".dw-cal",f).width(i.calendarWidth);i.calendarHeight&&a(".dw-cal-anim-c",f).height(i.calendarHeight);b.context.on("orientationchange.dw-cal resize.dw-cal",function(){clearTimeout(oa);oa=setTimeout(function(){aa&&p();if(V){var a=y/F;F=d.width();y=a*F;A(y,0)}v();b.trigger("onCalResize",[])},100)});P=y=0;if(i.swipe){var C,c,x,t,ya,R,la,I,ta,pa=i.liveSwipe,ma=window.requestAnimationFrame||function(a){a()},da=window.cancelAnimationFrame||
Ha,ua=function(a){if(!ta&&!S){ta=true;x=new Date;y=P;z=u(a,"X");wa=u(a,"Y")}},Ka=function(){ya=ta=false;if(R){R=false;da(C);c=false;t=new Date-x;la=t<300?Aa-z<-50:pa&&P-y<-F*0.4;(I=t<300?Aa-z>50:pa&&P-y>F*0.4)&&new Date(w,B-1,1)>=Z?m(w,--B,"prev"):la&&new Date(w,B+1,1)<=$?m(w,++B,"next"):pa&&A(y,200)}},Ia=function(a){S&&a.preventDefault();if(ta){Aa=u(a,"X");xa=u(a,"Y");if(!R&&!ya)if(Math.abs(Aa-z)>10)ka=R=true;else if(!b.scrollLock&&Math.abs(xa-wa)>10)ka=ya=true;R&&a.preventDefault();if(R&&pa&&!c){c=
true;C=ma(Na)}}},Na=function(){A(y+Aa-z);c=false};D.on("touchstart",ua).on("touchmove",Ia).on("touchend touchcancel",Ka).on("mousedown",function(b){if(!K){ua(b);a(document).on("mousemove.dwsw",Ia).on("mouseup.dwsw",function(){Ka();a(document).off("dwsw")})}})}},onMarkupInserted:function(){p()},onShow:function(){v();x(w,B);F=d.width()},onPosition:function(){if(V&&i.display=="modal"){D.height("auto");var d=b.context[0].innerHeight||b.context.innerHeight(),e=a(".dw",f).outerHeight(),h=e-D.height();d>
e&&D.height(d-h)}},onClose:function(){b.context.off(".dw-cal");ja=null},validate:function(a,d){ua.call(this,a,d);b.trigger("onSetDate",[]);e()}});return k}})(jQuery);(function(a){var l=a.mobiscroll,r=new Date,q={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:r.getFullYear()-100,endYear:r.getFullYear()+1,monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),
shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",nowText:"Now",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},I=function(u){function o(a,b,e){return void 0!==d[b]?+a[d[b]]:void 0!==e?e:fa[F[b]]?fa[F[b]]():F[b](fa)}function b(a,b,d,e){a.push({values:d,keys:b,label:e})}function s(a,b){return Math.floor(a/b)*b}function t(a){var b=o(a,"h",0);return new Date(o(a,"y"),o(a,"m"),o(a,"d",1),o(a,"a")?
b+12:b,o(a,"i",0),o(a,"s",0))}function C(b,d){return a(".dw-li",b).index(a('.dw-li[data-val="'+d+'"]',b))}var x=a(this),e={},r;if(x.is("input")){switch(x.attr("type")){case "date":r="yy-mm-dd";break;case "datetime":r="yy-mm-ddTHH:ii:ssZ";break;case "datetime-local":r="yy-mm-ddTHH:ii:ss";break;case "month":r="yy-mm";e.dateOrder="mmyy";break;case "time":r="HH:ii:ss"}var m=x.attr("min"),x=x.attr("max");m&&(e.minDate=l.parseDate(r,m));x&&(e.maxDate=l.parseDate(r,x))}var h,p,v,A,N,M,ha,m=a.extend({},u.settings),
k=a.extend(u.settings,q,e,m),f=0,x=[],D=[],d={},F={y:"getFullYear",m:"getMonth",d:"getDate",h:function(a){a=a.getHours();a=W&&12<=a?a-12:a;return s(a,na)},i:function(a){return s(a.getMinutes(),T)},s:function(a){return s(a.getSeconds(),Z)},a:function(a){return Q&&11<a.getHours()?1:0}},P=k.preset,y=k.dateOrder,J=k.timeWheels,ba=y.match(/D/),Q=J.match(/a/i),W=J.match(/h/),I="datetime"==P?k.dateFormat+k.separator+k.timeFormat:"time"==P?k.timeFormat:k.dateFormat,fa=new Date,na=k.stepHour,T=k.stepMinute,
Z=k.stepSecond,$=k.minDate||new Date(k.startYear,0,1),ga=k.maxDate||new Date(k.endYear,11,31,23,59,59);r=r||I;if(P.match(/date/i)){a.each(["y","m","d"],function(a,b){h=y.search(RegExp(b,"i"));-1<h&&D.push({o:h,v:b})});D.sort(function(a,b){return a.o>b.o?1:-1});a.each(D,function(a,b){d[b.v]=a});m=[];for(e=0;3>e;e++)if(e==d.y){f++;v=[];p=[];A=$.getFullYear();N=ga.getFullYear();for(h=A;h<=N;h++)p.push(h),v.push(y.match(/yy/i)?h:(h+"").substr(2,2));b(m,p,v,k.yearText)}else if(e==d.m){f++;v=[];p=[];for(h=
0;12>h;h++)A=y.replace(/[dy]/gi,"").replace(/mm/,9>h?"0"+(h+1):h+1).replace(/m/,h+1),p.push(h),v.push(A.match(/MM/)?A.replace(/MM/,'<span class="dw-mon">'+k.monthNames[h]+"</span>"):A.replace(/M/,'<span class="dw-mon">'+k.monthNamesShort[h]+"</span>"));b(m,p,v,k.monthText)}else if(e==d.d){f++;v=[];p=[];for(h=1;32>h;h++)p.push(h),v.push(y.match(/dd/i)&&10>h?"0"+h:h);b(m,p,v,k.dayText)}x.push(m)}if(P.match(/time/i)){ha=!0;D=[];a.each(["h","i","s","a"],function(a,b){a=J.search(RegExp(b,"i"));-1<a&&D.push({o:a,
v:b})});D.sort(function(a,b){return a.o>b.o?1:-1});a.each(D,function(a,b){d[b.v]=f+a});m=[];for(e=f;e<f+4;e++)if(e==d.h){f++;v=[];p=[];for(h=0;h<(W?12:24);h+=na)p.push(h),v.push(W&&0==h?12:J.match(/hh/i)&&10>h?"0"+h:h);b(m,p,v,k.hourText)}else if(e==d.i){f++;v=[];p=[];for(h=0;60>h;h+=T)p.push(h),v.push(J.match(/ii/)&&10>h?"0"+h:h);b(m,p,v,k.minuteText)}else if(e==d.s){f++;v=[];p=[];for(h=0;60>h;h+=Z)p.push(h),v.push(J.match(/ss/)&&10>h?"0"+h:h);b(m,p,v,k.secText)}else e==d.a&&(f++,p=J.match(/A/),
b(m,[0,1],p?["AM","PM"]:["am","pm"],k.ampmText));x.push(m)}u.setDate=function(a,b,e,f){for(var h in d)u.temp[d[h]]=a[F[h]]?a[F[h]]():F[h](a);u.setValue(u.temp,b,e,f)};u.getDate=function(a){return t(a?u.temp:u.values)};u.convert=function(b){var d=b;a.isArray(b)||(d=[],a.each(b,function(b,e){a.each(e,function(a,e){"daysOfWeek"===b&&(e.d?e.d="w"+e.d:e="w"+e);d.push(e)})}));return d};u.format=I;u.buttons.now={text:k.nowText,css:"dwb-n",handler:function(){u.setDate(new Date,!1,0.3,!0,!0)}};k.showNow&&
k.buttons.splice(a.inArray("set",k.buttons)+1,0,"now");M=k.invalid?u.convert(k.invalid):!1;return{wheels:x,headerText:k.headerText?function(){return l.formatDate(I,t(u.temp),k)}:!1,formatResult:function(a){return l.formatDate(r,t(a),k)},parseValue:function(a){var a=l.parseDate(r,a,k),b,e=[];for(b in d)e[d[b]]=a[F[b]]?a[F[b]]():F[b](a);return e},validate:function(b,e,f,h){var p=u.temp,l={y:$.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},m={y:ga.getFullYear(),m:11,d:31,h:s(W?11:23,na),i:s(59,T),s:s(59,Z),
a:1},q={h:na,i:T,s:Z,a:1},r=o(p,"y"),v=o(p,"m"),A=!0,x=!0;a.each("y,m,d,a,h,i,s".split(","),function(e,f){if(d[f]!==void 0){var i=l[f],q=m[f],s=31,g=o(p,f),t=a(".dw-ul",b).eq(d[f]);if(f=="d"){q=s=32-(new Date(r,v,32)).getDate();ba&&a(".dw-li",t).each(function(){var b=a(this),c=b.data("val"),d=(new Date(r,v,c)).getDay(),c=y.replace(/[my]/gi,"").replace(/dd/,c<10?"0"+c:c).replace(/d/,c);a(".dw-i",b).html(c.match(/DD/)?c.replace(/DD/,'<span class="dw-day">'+k.dayNames[d]+"</span>"):c.replace(/D/,'<span class="dw-day">'+
k.dayNamesShort[d]+"</span>"))})}A&&$&&(i=$[F[f]]?$[F[f]]():F[f]($));x&&ga&&(q=ga[F[f]]?ga[F[f]]():F[f](ga));if(f!="y"){var J=C(t,i),c=C(t,q);a(".dw-li",t).removeClass("dw-v").slice(J,c+1).addClass("dw-v");f=="d"&&a(".dw-li",t).removeClass("dw-h").slice(s).addClass("dw-h")}g<i&&(g=i);g>q&&(g=q);A&&(A=g==i);x&&(x=g==q);if(M&&f=="d"){for(var D,q=(new Date(r,v,1)).getDay(),J=[],i=0;i<M.length;i++){c=M[i];D=c+"";if(!c.start)if(c.getTime)c.getFullYear()==r&&c.getMonth()==v&&J.push(c.getDate()-1);else if(D.match(/w/i)){D=
+D.replace("w","");for(c=D-q;c<s;c=c+7)c>=0&&J.push(c)}else{D=D.split("/");D[1]?D[0]-1==v&&J.push(D[1]-1):J.push(D[0]-1)}}a.each(J,function(b,c){a(".dw-li",t).eq(c).removeClass("dw-v")});g=u.getValidCell(g,t,h).val}p[d[f]]=g}});if(ha&&M){var t,J,D,Q,K,S,H,G,O,I,i,N,P,V,X,R,aa={},da=o(p,"d"),fa=new Date(r,v,da),va=["a","h","i","s"];a.each(M,function(a,b){if(b.start&&(b.apply=!1,t=b.d,J=t+"",Q=J.split("/"),t&&(t.getTime&&r==t.getFullYear()&&v==t.getMonth()&&da==t.getDate()||!J.match(/w/i)&&(Q[1]&&da==
Q[1]&&v==Q[0]-1||!Q[1]&&da==Q[0])||J.match(/w/i)&&fa.getDay()==+J.replace("w",""))))b.apply=!0,aa[fa]=!0});a.each(M,function(e,f){if(f.start&&(f.apply||!f.d&&!aa[fa])){K=f.start.split(":");S=f.end.split(":");for(H=0;3>H;H++)void 0===K[H]&&(K[H]=0),void 0===S[H]&&(S[H]=59),K[H]=+K[H],S[H]=+S[H];K.unshift(11<K[0]?1:0);S.unshift(11<S[0]?1:0);W&&(12<=K[1]&&(K[1]-=12),12<=S[1]&&(S[1]-=12));P=N=!0;a.each(va,function(e,f){if(d[f]!==void 0){D=o(p,f);I=R=X=0;i=void 0;V=a(".dw-ul",b).eq(d[f]);for(H=e+1;H<4;H++){K[H]>
0&&(X=q[f]);S[H]<m[va[H]]&&(R=q[f])}G=s(K[e]+X,q[f]);O=s(S[e]-R,q[f]);N&&(I=G<0?0:G>m[f]?a(".dw-li",V).length:C(V,G)+0);P&&(i=O<0?0:O>m[f]?a(".dw-li",V).length:C(V,O)+1);(N||P)&&a(".dw-li",V).slice(I,i).removeClass("dw-v");D=u.getValidCell(D,V,h).val;N=N&&D==s(K[e],q[f]);P=P&&D==s(S[e],q[f]);p[d[f]]=D}})}})}}}};a.each(["date","time","datetime"],function(a,o){l.presets[o]=I;l.presetShort(o)});l.formatDate=function(l,o,b){if(!o)return null;var b=a.extend({},q,b),s=function(a){for(var b=0;x+1<l.length&&
l.charAt(x+1)==a;)b++,x++;return b},t=function(a,b,e){b=""+b;if(s(a))for(;b.length<e;)b="0"+b;return b},r=function(a,b,e,l){return s(a)?l[b]:e[b]},x,e="",O=!1;for(x=0;x<l.length;x++)if(O)"'"==l.charAt(x)&&!s("'")?O=!1:e+=l.charAt(x);else switch(l.charAt(x)){case "d":e+=t("d",o.getDate(),2);break;case "D":e+=r("D",o.getDay(),b.dayNamesShort,b.dayNames);break;case "o":e+=t("o",(o.getTime()-(new Date(o.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":e+=t("m",o.getMonth()+1,2);break;case "M":e+=
r("M",o.getMonth(),b.monthNamesShort,b.monthNames);break;case "y":e+=s("y")?o.getFullYear():(10>o.getYear()%100?"0":"")+o.getYear()%100;break;case "h":var m=o.getHours(),e=e+t("h",12<m?m-12:0==m?12:m,2);break;case "H":e+=t("H",o.getHours(),2);break;case "i":e+=t("i",o.getMinutes(),2);break;case "s":e+=t("s",o.getSeconds(),2);break;case "a":e+=11<o.getHours()?"pm":"am";break;case "A":e+=11<o.getHours()?"PM":"AM";break;case "'":s("'")?e+="'":O=!0;break;default:e+=l.charAt(x)}return e};l.parseDate=function(l,
o,b){var s=a.extend({},q,b),b=s.defaultValue||new Date;if(!l||!o)return b;var o="object"==typeof o?o.toString():o+"",t=s.shortYearCutoff,r=b.getFullYear(),x=b.getMonth()+1,e=b.getDate(),O=-1,m=b.getHours(),h=b.getMinutes(),p=0,v=-1,A=!1,N=function(a){(a=f+1<l.length&&l.charAt(f+1)==a)&&f++;return a},M=function(a){N(a);a=o.substr(k).match(RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a?4:"o"==a?3:2)+"}"));if(!a)return 0;k+=a[0].length;return parseInt(a[0],10)},I=function(a,b,e){a=N(a)?e:b;for(b=0;b<a.length;b++)if(o.substr(k,
a[b].length).toLowerCase()==a[b].toLowerCase())return k+=a[b].length,b+1;return 0},k=0,f;for(f=0;f<l.length;f++)if(A)"'"==l.charAt(f)&&!N("'")?A=!1:k++;else switch(l.charAt(f)){case "d":e=M("d");break;case "D":I("D",s.dayNamesShort,s.dayNames);break;case "o":O=M("o");break;case "m":x=M("m");break;case "M":x=I("M",s.monthNamesShort,s.monthNames);break;case "y":r=M("y");break;case "H":m=M("H");break;case "h":m=M("h");break;case "i":h=M("i");break;case "s":p=M("s");break;case "a":v=I("a",["am","pm"],
["am","pm"])-1;break;case "A":v=I("A",["am","pm"],["am","pm"])-1;break;case "'":N("'")?k++:A=!0;break;default:k++}100>r&&(r+=(new Date).getFullYear()-(new Date).getFullYear()%100+(r<=("string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10))?0:-100));if(-1<O){x=1;e=O;do{s=32-(new Date(r,x-1,32)).getDate();if(e<=s)break;x++;e-=s}while(1)}m=new Date(r,x-1,e,-1==v?m:v&&12>m?m+12:!v&&12==m?0:m,h,p);return m.getFullYear()!=r||m.getMonth()+1!=x||m.getDate()!=e?b:m}})(jQuery);(function(a){var l=a.mobiscroll,r={fromText:"Start",toText:"End"};l.presetShort("rangepicker");l.presets.rangepicker=function(q){function I(a,b){a.setFullYear(b.getFullYear());a.setMonth(b.getMonth());a.setDate(b.getDate())}function u(){e=p;O=v;m=A;h=N;d.startInput&&a(d.startInput).val(O).change();d.endInput&&a(d.endInput).val(h).change()}var o,b,s,t,C,x,e,O,m,h,p,v,A,N,M,ha,k,f=0;C=new Date;var D=a.extend({},q.settings),d=a.extend(q.settings,r,D),F=d.activeClass||"",P=d.defaultValue||[new Date(C.setHours(0,
0,0,0)),new Date(C.setHours(23,59,59,999))];C=a.mobiscroll.presets.calbase.call(this,q);b=a.extend({},C);t=q.format;M="time"===d.controls.join("");d.startInput&&(ha=a(d.startInput).prop("readonly"),q.attachShow(a(d.startInput).prop("readonly",!0),function(){f=0}));d.endInput&&(k=a(d.endInput).prop("readonly"),q.attachShow(a(d.endInput).prop("readonly",!0),function(){f=1}));q._setValue||(q._setValue=q.setValue);q.setValue=function(a,k,o,s){var r=a;if(a[0]&&a[0].getTime){p=a[0];v=l.formatDate(t,p,d);
f||(r=b.parseValue(v))}if(a[1]&&a[1].getTime){A=a[1];N=l.formatDate(t,A,d);f&&(r=b.parseValue(N))}if(!s){e=p;O=v;m=A;h=N}q._setValue.call(this,r,k,o,s)};q.getValue=function(){return[e,m]};q.getDayProps=function(a){var b=new Date(p.getFullYear(),p.getMonth(),p.getDate()),d=new Date(A.getFullYear(),A.getMonth(),A.getDate());return{selected:a>=b&&a<=A,cssClass:!f&&b.getTime()===a.getTime()||f&&d.getTime()===a.getTime()?"dw-cal-day-hl":""}};a.extend(C,{highlight:!1,divergentDayChange:!1,formatResult:function(){return v+
(d.endInput?"":" - "+N)},parseValue:function(k){k=k.split(" - ");d.defaultValue=P[1];m=d.endInput?l.parseDate(t,a(d.endInput).val(),d):l.parseDate(t,k[1],d);d.defaultValue=P[0];e=d.startInput?l.parseDate(t,a(d.startInput).val(),d):l.parseDate(t,k[0],d);d.defaultValue=P[f];O=l.formatDate(t,e,d);h=l.formatDate(t,m,d);return b.parseValue(f?h:O,q)},onChange:function(){q.live&&u()},onClose:function(a,d){b.onClose.call(this,a,d);d==="set"&&u();f=0},onClear:function(){d.startInput&&a(d.startInput).val("");
d.endInput&&a(d.endInput).val("")},onBeforeShow:function(){d.headerText=false;if(d.counter)d.headerText=function(){return Math.round(((new Date(N)).getTime()-(new Date(v)).getTime())/864E5)+1+" "+d.selectedText};p=e;v=O;A=m;N=h;x=true;q.setDate(f?m:e)},onMarkupReady:function(e){var l;s=e;b.onMarkupReady.call(this,e);e.addClass("dw-rangepicker");l='<div class="dw-dr-t" role="radiogroup"><div class="dw-dr-c dw-dr0"><a href="#" role="radio" class="dwb-e dwb-nhl dw-i dw-dr">'+d.fromText+'<div class="dw-drv dw-drv0">'+
O+'</div></a></div><div class="dw-dr-c dw-dr1"><a href="#" role="radio" class="dwb-e dwb-nhl dw-i dw-dr">'+d.toText+'<div class="dw-drv dw-drv1">'+h+"</div></a></div></div>";a(".dw-cal-tabs",e).before(l);o=a(".dw-dr"+f,e).addClass("dw-sel").attr("aria-checked","true");o.find(".dw-dr").addClass(F);setTimeout(function(){a(".dw-dr-c",e).on("touchstart click",function(b){var d=a(this);if(b.type=="touchstart")d.data("click",true);else if(d.data("click")){d.data("click",null);return}if(!d.hasClass("dw-sel")){f=
d.index();o.removeClass("dw-sel").removeAttr("aria-checked").find(".dw-dr",s).removeClass(F);o=d.addClass("dw-sel").attr("aria-checked","true");o.find(".dw-dr").addClass(F);b=f?A:p;a(".dw-cal-table .dw-sel",s).removeClass("dw-cal-day-hl");a('.dw-cal-day[data-full="'+b.getFullYear()+"-"+b.getMonth()+"-"+b.getDate()+'"]',s).addClass("dw-cal-day-hl");x=true;q.setDate(b,false,0.2,true)}})},300)},onSetDate:function(){if(!x){var e,h,k,m=0;e=b.formatResult.call(this,q.temp);h=q.getDate(true);a(".dw-drv"+
f,s).text(e);if(f){A=h;N=e}else{p=h;v=e}if(M){I(p,h);I(A,h)}if(p>A)if(f){p=new Date(A.getTime());p.setHours(0,0,0,0);v=l.formatDate(t,p,d);a(".dw-drv0",s).text(v)}else{A=new Date(p.getTime());A.setHours(23,59,59,999);N=l.formatDate(t,A,d);a(".dw-drv1",s).text(N)}e=new Date(p);h=new Date(A);k=f?h:e;a(".dw-cal-table .dw-sel .dw-i",s).removeClass(F);a(".dw-cal-table .dw-sel",s).removeClass("dw-sel dw-cal-day-hl").removeAttr("aria-selected");for(a('.dw-cal-day[data-full="'+k.getFullYear()+"-"+k.getMonth()+
"-"+k.getDate()+'"]',s).addClass("dw-cal-day-hl");h>=e&&m<84;){a('.dw-cal-day[data-full="'+k.getFullYear()+"-"+k.getMonth()+"-"+k.getDate()+'"]',s).addClass("dw-sel").attr("aria-selected","true").find(".dw-i ").addClass(F);k.setDate(k.getDate()+(f?-1:1));m++}}x=false},onDestroy:function(){a(d.startInput).prop("readonly",ha);a(d.endInput).prop("readonly",k)}});return C}})(jQuery);
